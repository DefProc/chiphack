<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MyStorm Setup &mdash; MyStorm Setup</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="_static/single.css" type="text/css" />
    
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2017.08.30',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/common.js"></script>
    
    <script type="text/javascript" src="_static/slides.js"></script>
    <script type="text/javascript" src="_static/sync.js"></script>
    <script type="text/javascript" src="_static/controller.js"></script>
    <script type="text/javascript" src="_static/init.js"></script>
    
    
    <link rel="top" title="MyStorm Setup" href="#" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="slide level-1" id="mystorm-setup">

<h1>MyStorm Setup</h1>

<div class="line-block">
<div class="line">Dan Gorringe</div>
</div>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="the-mystorm-board">

<h2>The MyStorm Board</h2>

<div class="figure">
<img alt="_images/mystorm.jpg" src="_images/mystorm.jpg" />
</div>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="installing-the-tools">

<h2>Installing the tools</h2>

<p>The instructions are all online:</p>
<ul class="simple">
<li><a class="reference external" href="http://chiphack.org/chiphack-2017-install-linux.html">http://chiphack.org/chiphack-2017-install-linux.html</a></li>
<li><a class="reference external" href="http://chiphack.org/chiphack-2017-install-mac.html">http://chiphack.org/chiphack-2017-install-mac.html</a></li>
<li><a class="reference external" href="http://chiphack.org/chiphack-2017-install-windows.html">http://chiphack.org/chiphack-2017-install-windows.html</a></li>
</ul>
<p><strong>Note</strong> that the tools work fine on RaspberryPi.</p>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="cloning-the-code-from-github">

<h2>Cloning the code from GitHub</h2>

<p>You will want to access four repositories:</p>
<ul class="simple">
<li>The simple examples used on day 1</li>
<li>Hatim Kanchwala's EDSAC code</li>
<li>The reimagined EDSAC peripherals</li>
<li>The MyStorm board design</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">embecosm</span><span class="o">/</span><span class="n">chiphack</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">librecores</span><span class="o">/</span><span class="n">gsoc</span><span class="o">-</span><span class="n">museum</span><span class="o">-</span><span class="n">edsac</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">embecosm</span><span class="o">/</span><span class="n">edsac</span><span class="o">-</span><span class="n">peripherals</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">gitlab</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Folknology</span><span class="o">/</span><span class="n">mystorm</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="your-first-design-mac-linux">

<h2>Your first design (Mac/Linux)</h2>

<p>Completed examples are in the <code class="docutils literal"><span class="pre">cheat_sheet</span></code> directory. We'll build the very
simplest of these to drive the red LED on the board.  First change into the
directory with the completed examples:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">chiphack</span><span class="o">/</span><span class="n">cheat_sheet</span>
</pre></div>
</div>
<p>Then <code class="docutils literal"><span class="pre">make</span></code> the LED example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">led</span>
</pre></div>
</div>
<p>This will synthesize the code in <code class="docutils literal"><span class="pre">led/led.v</span></code> to a bitstream in
<code class="docutils literal"><span class="pre">chip.bin</span></code>.</p>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="your-first-design-windows">

<h2>Your first design (Windows)</h2>

<p>From <code class="docutils literal"><span class="pre">cheat_sheet</span></code>, change to the <code class="docutils literal"><span class="pre">led</span></code> directory and copy in the parent PCF
file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">led</span>
<span class="n">copy</span> <span class="o">..</span>\<span class="n">blackice</span><span class="o">.</span><span class="n">pcf</span> <span class="o">.</span>
</pre></div>
</div>
<p>Then synthesize the LED example with <code class="docutils literal"><span class="pre">apio</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">apio</span> <span class="n">build</span> <span class="o">--</span><span class="n">size</span> <span class="mi">8</span><span class="n">k</span> <span class="o">--</span><span class="nb">type</span> <span class="n">hx</span> <span class="o">--</span><span class="n">pack</span> <span class="n">tq144</span><span class="p">:</span><span class="mi">4</span><span class="n">k</span>
</pre></div>
</div>
<p>This will synthesize the code in <code class="docutils literal"><span class="pre">led.v</span></code> to a bitstream in
<code class="docutils literal"><span class="pre">hardware.bin</span></code>.</p>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="uploading-your-design-mac-linux">

<h2>Uploading your design (Mac/Linux)</h2>

<p>For Linux:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">SERIAL</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> <span class="n">upload</span><span class="o">-</span><span class="n">linux</span>
</pre></div>
</div>
<p>For Mac:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">SERIAL</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">cu</span><span class="o">.</span><span class="n">usbmodem1421</span> <span class="n">upload</span><span class="o">-</span><span class="n">linux</span>
</pre></div>
</div>
<p>You may need to use a different value for <code class="docutils literal"><span class="pre">SERIAL</span></code> depending on your
machine.</p>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="uploading-your-design-windows">

<h2>Uploading your design (Windows)</h2>

<p>Start up <em>teraterm</em></p>
<ul class="simple">
<li>Select the serial option, then go to setup&gt;serial.</li>
<li>Delete the Baud rate option</li>
<li>Set data as 8 bit, no parity, 1 bit stop and no flow control.</li>
<li>Then file&gt;send file navigate to hardware.bin</li>
<li>tick the Binary option box and open</li>
</ul>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>
<article class="slide level-2" id="your-first-design">

<h2>Your first design</h2>

<div class="figure">
<img alt="_images/mystorm-led.jpg" src="_images/mystorm-led.jpg" />
</div>




<div class="slide-footer">Copyright (C) 2017 Embecosm Limited. Freely available under a CC-BY-SA license.</div>

</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>